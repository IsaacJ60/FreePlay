<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; media-src 'self' blob:; img-src 'self' data: https://placehold.co https://*.spotifycdn.com https://i.scdn.co https://mosaic.scdn.co;"
        />
        <meta
            http-equiv="X-Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; media-src 'self' blob:; img-src 'self' data: https://placehold.co https://*.spotifycdn.com https://i.scdn.co https://mosaic.scdn.co;"
        />
        <title>FreePlay</title>
        <link rel="stylesheet" href="./styles.css" />
    </head>

    <body>
        <div id="main">
            <div class="card" id="playlists">
                <h2>Playlists</h2>
                <input type="text" id="playlist-search" placeholder="Search for playlists..." />
                <ul id="playlist-list"></ul>
            </div>

            <div class="card" id="playlist-songs">
                <h2>Songs</h2>
                <input type="text" id="song-search" placeholder="Search in playlist..." />
                <button id="add-song-btn">Add Song</button>
                <ul id="song-list"></ul>
            </div>

            <div id="right-panel">
                <div class="card" id="queue-panel">
                    <h2 id>Queue</h2>
                    <div id="queue-display">
                        <p id="current-track"></p>
                        <hr class="queue-divider" />
                        <ul id="upcoming-tracks"></ul>
                    </div>
                </div>

                <div class="card" id="recents-panel">
                    <h2>Recently Played</h2>
                    <div id="recents-display">
                        <ul id="recent-tracks"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="bottom">
            <div id="player">
                <div id="track-name">No Track</div>
                <div>
                    <button id="prev">‚èÆ</button>
                    <button id="play">‚ñ∂</button>
                    <button id="next">‚è≠</button>
                    <button id="shuffle">üîÄ</button>
                </div>
                <div id="duration">0:00 / 0:00</div>
                <div id="volume-control">
                    <label for="volume-slider">üîâ</label>
                    <input
                        type="range"
                        id="volume-slider"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1"
                    />
                </div>
            </div>

            <div id="seek-control">
                <input
                    type="range"
                    id="seek-slider"
                    min="0"
                    max="100"
                    step="0.001"
                    value="0"
                />
            </div>
        </div>

        <!-- Hidden audio element -->
        <audio id="audio-player"></audio>

        <div id="spotify-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Import Spotify Playlist</h2>
                <input
                    type="text"
                    id="spotify-url"
                    placeholder="https://open.spotify.com/playlist/..."
                />
                <div class="modal-buttons">
                    <button id="cancel-spotify-url">Cancel</button>
                    <button id="submit-spotify-url">Import</button>
                </div>
            </div>
        </div>

        <div id="context-menu" class="song-options-menu hidden">
            <button id="add-to-front">‚ûï Add to queue</button>
            <button id="add-to-playlist">‚ûï Add to playlist</button>
            <button id="delete-song">üóëÔ∏è Delete song</button>
        </div>

        <div id="playlist-context-menu" class="song-options-menu hidden">
            <button id="delete-playlist">üóëÔ∏è Delete Playlist</button>
        </div>

        <div id="add-song-to-playlist-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Add Song to Playlist</h2>
                <input type="text" id="playlist-search-in-modal" placeholder="Search for a playlist..." />
                <ul id="playlist-list-in-modal"></ul>
                <div class="modal-buttons">
                    <button id="cancel-add-song">Cancel</button>
                    <button id="submit-add-song">Add</button>
                </div>
            </div>

        </div>

        <div id="add-new-song-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Add New Song</h2>
                <input type="text" id="new-song-url" placeholder="Enter Spotify song URL" />
                <p >or</p>
                <button id="upload-local-file-btn">Select local file</button>
                <div id="selected-file-path" class="selected-file-path-container"></div>
                <div class="loader hidden"></div>
                <div class="modal-buttons">
                    <button id="cancel-add-new-song-btn">Cancel</button>
                    <button id="submit-add-new-song-btn">Add</button>
                </div>
            </div>
        </div>

        <script type="module" src="renderer.js"></script>
    </body>
</html>
